<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Basketball ELO Methodology</title>
</head>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-140782021-2"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'UA-140782021-2');
</script>

<script data-ad-client="ca-pub-8025120308040073" async
    src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<link rel="icon" href="https://jkstats76.files.wordpress.com/2019/02/cropped-site-icon.png?w=32" sizes="32x32">
<link rel="icon" href="https://jkstats76.files.wordpress.com/2019/02/cropped-site-icon.png?w=192" sizes="192x192">

<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3-tip/0.7.1/d3-tip.min.js"></script>
<link rel="stylesheet" href="https://use.typekit.net/htk2wjy.css">
<link rel="stylesheet" href="index.css">


<body>
    <div class="computer" style="border-bottom: solid grey 1.0pt;">
        <table style="border-collapse: collapse; border: none;" cellspacing="0" cellpadding="0" width="100%">
            <tbody>
                <tr>
                    <td style="width: 70%;  " valign="middle" width="70%">
                        <p style="text-align: left;font-weight: 300;font-size: 35px;"><span style="color: black;"><a
                                    href="https://jhkforecasts.com"><span style="color: black;">JHK
                                        Forecasts</span></a><span></p>
                    </td>
                    <td style="width: 10%;  " valign="middle" width="10%">
                        <p style="text-align: center;font-weight: 700;font-size: 15px;"><span style="color: black;"><a
                                    href="https://jhkforecasts.com/politics/"><span
                                        style="color: black;">Politics</span></a><span></p>
                    </td>
                    <td style="width: 10%;  " valign="middle" width="10%">
                        <p style="text-align: center;font-weight: 700;font-size: 15px;"><span style="color: black;"><a
                                    href="https://jhkforecasts.com/sports/"><span
                                        style="color: black;">Sports</span></a></span></p>
                    </td>
                    <td style="width: 10%; ; " valign="middle" width="10%">
                        <p style="text-align: center;font-weight: 700;font-size: 15px;"><span style="color: black;"><a
                                    href="https://jhkforecasts.com/economics/"><span
                                        style="color: black;">Economics</span></a></span></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <hr>

    </div>

    <div class="phone">
        <h1 style=" text-align: center; font-weight: 300; "> <a href=" https://jhkforecasts.com"> <span>JHK
                    Forecasts</span></a></h1>
        <table style="border-collapse: collapse; border: none;" cellspacing="0" cellpadding="0" width="100%">
            <tbody>
                <tr>
                    <td style="width: 33%; border-right: solid grey 1.0pt; " valign="top" width="33%">
                        <p style="text-align: center;font-weight: 700;font-size: 15px;"><span style="color: black;"><a
                                    href="https://jhkforecasts.com/politics/"><span
                                        style="color: black;">Politics</span></a><span></p>
                    </td>
                    <td style="width: 33%; border-right: solid grey 1.0pt; border-left: none; " valign="top"
                        width="33%">
                        <p style="text-align: center;font-weight: 700;font-size: 15px;"><span style="color: black;"><a
                                    href="https://jhkforecasts.com/sports/"><span
                                        style="color: black;">Sports</span></a></span></p>
                    </td>
                    <td style="width: 33%; ; " valign="top" width="33%">
                        <p style="text-align: center;font-weight: 700;font-size: 15px;"><span style="color: black;"><a
                                    href="https://jhkforecasts.com/economics/"><span
                                        style="color: black;">Economics</span></a></span></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <hr>
    </div>


     

</html>
<h1 style="text-align: center;"><span style="color: #000000;">Basketball Model Methodology & Changes</span></h1>
<h3><span style="color: #000000;">How the forecast works</span></h3>
<p><span style="color: #000000;">
        <!-- /wp:heading -->

        <!-- wp:heading {"level":6,"align":"left"} --></span></p>
<p style="text-align: left; padding-left: 30px;"><span style="color: #000000;">The forecast uses game results to create
        an ELO rating, and then the season is run 10,000 times do get an average result. The reason it is run so many
        times is to get as many possible seasons as possible. I will go further in-depth on that later. It then averages
        the results, to give us the final probabilities. </span></p>
<h3><span style="color: #000000;">Calculating ELO</span></h3>
<p style="padding-left: 30px;"><span style="color: #000000;">Elo was created by <span style="color: #3366ff;"><a
                style="color: #3366ff;" href="https://en.wikipedia.org/wiki/Arpad_Elo">Arpad Elo</a></span>, a
        Hungarian-American physics professor. The index was first created for chess, but has been adapted for multiple
        sports. I found the win percentage of each game by the difference of ELO What makes ELO a good rating is that
        ELO points never disappear or appear. The dispersion of points always averages to 0. The winner takes from the
        loser, and it is that simple. </span></p>
<p style="padding-left: 30px;"><span style="color: #000000;">I created my ELO rating by taking the win loss records or
        each team's preseason schedule. The win percentage was then inverted into an ELO, by finding the difference of
        ELO based on that percentage. The other factor strength of schedule index from <span style="color: #3366ff;"><a
                style="color: #3366ff;" href="http://maxpreps.com">MaxPreps.com</a></span>. The strength of schedule was
        multiplied by 10 to get an ELO difference. Those two factors are added together to get the total ELO difference.
        The ELO difference is added to 1300 to get a composite ELO. Since the I had very little data to go by, I knew
        the starting ELO's were going to be very volatile and not truly represent the teams talents. So in order to get
        a little more stable ELO rating I mean reverted the each team by 1/3.  In statistics noise and signal are often
        used terms, signal represents the true population or data, but signal is smaller movement that if read
        incorrectly, could mess up the calculations. I reduced the noise from the data given to me by doing this
        regression, and made the teams starting ELO closer to each other. This was incase I over or under-estimated each
        team's true ELO or skill.<img style="width:80%; height: 80%; margin-left: 10%;"
            src="https://jkstats76.files.wordpress.com/2019/01/elo-calculation-chart-3.jpg" alt="elo calculation chart"
            width="4008" height="1570" /></span></p>
<p style="padding-left: 30px;"><span style="color: #000000;">After each game ELO is recalculated based of the results
        and the margin of victory. Each game has a predicted win probability based off of the ELO difference. The
        predicted win equation is an exponential formula that I adjusted from the most used formula. The winner of the
        game takes x amount of points away from the loser. If a team is predicted to win they will take fewer points
        from the loser, but if it is an upset they take more points than they would lose. I used a K-value of 60 which
        is the maximum number of ELO points that can be traded in a game. For example Team a has a 60% chance of
        winning, and they win they would take 24 points. The formula is: <strong>60*(1-win percentage)</strong>. So the
        inserting of the results it is 60*(1-.6)=24. The next part of calculating the change in ELO is the margin of
        victory. The win percentage is converted into a spread first. Then the spread is matched versus the margin of
        victory. And the <span style="font-size: 10.72px;">difference</span> in the spread, is the amount of ELO points
        traded between teams. I capped the exchange amount from the margin of victory at 20, in case of a miscalculation
        of ELO or spread. It creates less volatility in the ELO rating. </span></p>
<p style="padding-left: 30px;"><span style="color: #000000;">The other adjustment to ELO is home court advantage. I put
        home court as a 25 point advantage. While in most games is might make a 1 or 2 percentage point difference in
        win probabilities, when the team's ELOs are very similar, it could change by 5 or 6 percentage points. This was
        calculated from the previous seasons score differential at home and away versus the same opponent.</span></p>
<h3><span style="color: #000000;">Simulating the Season</span></h3>
<p style="padding-left: 30px;"><span style="color: #000000;">The season is the hardest part to calculate. I calculated
        the win percentage of the home team of each game, 56 games in total. Each game is simulated by a random number,
        and if the random number is greater than the win percentage, the away team is calculated as the winner, but if
        less than , the home team is the winner. This calculated for every game of the season. The season is simulated
        10,000 times to fulfill the <span style="color: #3366ff;"><a style="color: #3366ff;"
                href="https://en.wikipedia.org/wiki/Law_of_large_numbers">law of large numbers</a></span>, which states
        the larger number of trials, the closer to the expected value you will get. Below is a visual of this and how
        the observed value becomes closer to the expected values.</span></p>
<p><img style="width:80%; height: 80%; margin-left: 10%;"
        src="https://jkstats76.files.wordpress.com/2019/01/law-of-large-numbers-1.jpg" alt="law of large numbers"
        width="8130" height="3181" /></p>
<p style="padding-left: 30px;"><span style="color: #000000;">The final step of simulating the season is the ranking. The
        model ranks each team by win percentage for each season. Tie breakers are random, as ties are broken by coin
        flips or a re-match. If the teams that are tied, did not beat each other once, the team that got the two wins in
        head-to-head will win the tie.</span></p>
<h3><span style="color: #000000;">The model is probabilistic, not definitive.</span></h3>
<p style="padding-left: 30px;"><span style="color: #000000;">The biggest misconception of statistical models, is how
        they are viewed. They are not definitive, or 100% confident. The media has had a big problem of this, ie. the
        <span style="color: #3366ff;"><a style="color: #3366ff;"
                href="https://fivethirtyeight.com/features/the-media-has-a-probability-problem/">2016 Presidential
                Election</a></span>. We assume something is going happen just because it is favored to happen. So a good
        example of this, and all probabilities, is a deck of cards. So you have a 1/13 chance of drawing an Ace,
        however, if you drew two in a row the probabilities would not be off, just a rare occurrence. </span></p>
<p style="padding-left: 30px;"><span style="color: #000000;">And if the model is correctly designed the favored team
        would not win every game. If it is correctly calibrated the underdog would win every once in a while. For
        example, if all matchups for a day were 75-25 (there are four games in this day.) If the model was  correctly
        calibrated the favored would win around 3/4 (75%) of the games. The sample size is very small, it could easily
        be 100% of the games or 50% of the games. But if the underdog is not winning much, then the model might have a
        few flaws under the hood. Errors in the model are usually correlated, but ELO will iron them out throughout the
        season.</span></p>
<h3><span style="color: #000000;">Changes to Model</span></h3>
<p style="padding-left: 30px;"><span style="color: #000000;">I usually don't like to change my model throughout the data
        collection period (the season). But there are ones that needed to be made.</span></p>
<p style="padding-left: 30px;"><span style="color: #000000;">The first one was city champions. At first I had it
        calculated for the best district record, and not the best city record. This change had no effect on the model,
        just the final data.<br /><br /><br />The next was the margin of victory index. I felt a complete ELO index
        would take into account the margin of victory. So how it was calculated was I took the win probability of the
        underdog and created a spread. This was calculated by an algorithm I regressed from previous data. Then I took
        the margin of victory and found the difference between the two. So if a team was favored by 8 points and won by
        13, their margin of victory index for that game would be 5. That is then added to the ELO change based off of
        win percentage. I capped the margin of victory index at 20 points per game. So if a team beat or lost by more
        than 20 to their expected results, it would stop at 20. Below is a graph of the New calculated ELO v. old ELO.
        The biggest difference is Molina, their starting ELO was a bit over estimated, so the margin of victory index
        helped get their true ELO sooner, rather than later.</span></p>
<p><img style="width:80%; height: 80%; margin-left: 10%;"
        src="https://jkstats76.files.wordpress.com/2019/01/new-elo-vs-old-elo.jpg" alt="new elo vs old elo" width="4002"
        height="1989" /></p>
<p><span style="color: #000000;">Thanks for all of the support, and reading.</span></p>
<p style="padding-left: 30px;"><span style="color: #000000;">This has been very fun, but stressing. If you could somehow
        get this out to more people, that would be great, but I am glad that you are reading this. If you have any
        questions feel free to reach out to me on twitter,<span style="color: #3366ff;"> <a style="color: #3366ff;"
                href="https://twitter.com/jhkersting">@jhkersting</a> <span style="color: #000000;">or email me at
                jackkersting@gmail.com.</span></span></span></p>
<p> </p>